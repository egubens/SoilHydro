% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/documentation.R
\name{vg_pore_classes}
\alias{vg_pore_classes}
\title{Pore-size classes (macro/meso/micro) from VG parameters}
\usage{
vg_pore_classes(
  params_df,
  id_col = NULL,
  d_micro_um = 10,
  d_macro_um = 1000,
  gamma = 0.0728,
  cos_theta_c = 1,
  percent_basis = c("theta_s", "available"),
  include_residual_in_micro = TRUE,
  return_residual = FALSE,
  filter_id = NULL
)
}
\arguments{
\item{params_df}{Output of \code{\link{vg_fit_optim}}.}

\item{id_col}{Name of the ID column in \code{params_df}. Defaults to the first column.}

\item{d_micro_um, d_macro_um}{Diameter cutoffs (µm).}

\item{gamma}{Surface tension of water (N/m), default ~0.0728 at 20 °C.}

\item{cos_theta_c}{Contact angle term (dimensionless), default 1.}

\item{percent_basis}{Either \code{"theta_s"} (total porosity) or \code{"available"} (\eqn{\theta_s-\theta_r}).}

\item{include_residual_in_micro}{Logical; if \code{TRUE} (default), micro includes \eqn{\theta_r}.}

\item{return_residual}{Logical; if \code{TRUE}, appends \code{theta_residual} and \code{pct_residual}.}

\item{filter_id}{Optional scalar to compute \strong{only one product} from \code{params_df}.}
}
\value{
\code{data.frame} with columns
\code{<ID>, theta_macro, theta_meso, theta_micro, pct_macro, pct_meso, pct_micro, theta_r, theta_s}
(and optional residual columns).
}
\description{
Partitions porosity into three classes using capillary theory:
\itemize{
\item Macro: \eqn{d >} \code{d_macro_um} (default 1000 µm)
\item Meso: \eqn{d \in} \link{\code{d_micro_um}, \code{d_macro_um}} (default 10–1000 µm)
\item Micro: \eqn{d <} \code{d_micro_um} (default 10 µm)
}
By default, residual water \eqn{\theta_r} is included in the micro class so that
macro + meso + micro \eqn{\approx \theta_s} and percentage bars (basis = \code{"theta_s"})
reach 100\%.
}
\examples{
# Using 'fits' from vg_fit_optim():
# Percent basis = theta_s (default). Residual water included in "micro".
psd <- vg_pore_classes(fits, id_col = "ID", percent_basis = "theta_s",
                       include_residual_in_micro = TRUE)
psd

# Use "available" basis = (theta_s - theta_r) and exclude residual from micro:
psd_avail <- vg_pore_classes(fits, id_col = "ID",
                             percent_basis = "available",
                             include_residual_in_micro = FALSE,
                             return_residual = TRUE)
psd_avail

# Adjust pore-diameter cutoffs (micro < 5 µm, macro > 500 µm):
psd_custom <- vg_pore_classes(fits, id_col = "ID", d_micro_um = 5, d_macro_um = 500)
head(psd_custom)
}
